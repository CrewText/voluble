env:
  AUTH0_BASE_URL: "https://voluble-dev.eu.auth0.com"
  AUTH0_TEST_CLIENT_ID: ENCRYPTED[d0d0556878f5f1a96ae8167b6ee8fbb74f283f810bd18bac775d0aae722b86669111b567f6ae13e220d502ea44bd4037]
  AUTH0_TEST_CLIENT_SECRET: ENCRYPTED[8a5c05a26564fff83259686bb2d9b5092561137586660df5974e3eb868e620d19c56b402f5ea9989d227f15e9062b56c]
  AUTH0_MGMT_CLIENT_ID: ENCRYPTED[91cc07f55e10dbe7b26bca01f68efccf94eaab7cb0eda0f529b4210b684a698ad76c677d93c82d48b54e5176ebcfadf5]
  AUTH0_MGMT_CLIENT_SECRET: ENCRYPTED[21ed2fa8098c25532331e2b5a580c4a3939222b37ae2bc6a5bc23287652cf656efd537b80811bc678dafa22a137682cb]
  AUTH0_DOMAIN: "voluble-dev.eu.auth0.com"
  AUTH0_API_ID: "https://voluble-poc.herokuapp.com"
  CLEARDB_DATABASE_URL: ENCRYPTED[6fed80a09e7751820215db4407246318d8ca39e7a89952f4c5106a97e472c0715a8a16ac7db0e820f49af30faca5d223]
  ESENDEX_ACCOUNT_REF: ENCRYPTED[1923dae4c399adb1241938870ca0ad18c23ef223499392509a5c180dce85310d3c9c400eff9b73b0c28f1fe34da9fa95]
  ESENDEX_PASSWORD: ENCRYPTED[413453ac5604edf2f6969411da3ab3af118e19a962644b2a46928f8807d50ddbba086029e2b83eb969ffa5192c186142]
  ESENDEX_USERNAME: "trevorbailey@ireland.com"
  PLUGIN_DIR: "bin/plugins"
  REDISTOGO_URL: ENCRYPTED[c4e9f4c3638091c2bd6ceae48251a6584de1bf2a4db62cf90005f35a24e70123bd405e289d86a1171704b055403735ab]
  NODE_ENV: "development"
  PORT: 5000

container:
  image: node:latest

test_task:
  global_clis_script:
    - npm install -g typescript mocha

  node_modules_cache:
    folder: node_modules
    fingerprint_script: cat package-lock.json
    populate_script: npm ci

  build_script:
    - tsc -v;
    - tsc

  test_script: npm test
